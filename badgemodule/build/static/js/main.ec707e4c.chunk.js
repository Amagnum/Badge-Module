(this.webpackJsonpbadgemodule=this.webpackJsonpbadgemodule||[]).push([[0],{222:function(e,t,a){e.exports=a.p+"static/media/frame-light.0caa4188.png"},223:function(e,t,a){e.exports=a.p+"static/media/dumb-face.b3ed9657.png"},224:function(e,t,a){e.exports=a.p+"static/media/logo.3aa703f9.png"},290:function(e,t,a){e.exports=a(317)},295:function(e,t,a){},302:function(e,t){},303:function(e,t){},311:function(e,t){},317:function(e,t,a){"use strict";a.r(t);var n=a(12),l=a.n(n),i=a(90),o=a.n(i),c=(a(295),a(10)),r=a.n(c),d=a(14),s=a(8),u=a(96),m=(a(297),a(315),a(221)),h=a.n(m),g=(a(312),a(222)),p=a.n(g),w=a(223),f=a.n(w),b=a(224),E=a.n(b),v=a(316),x=function(){var e,t=Object(n.useState)("Loading Model"),a=Object(s.a)(t,2),i=(a[0],a[1]),o=Object(n.useState)(!1),c=Object(s.a)(o,2),m=c[0],g=c[1],w=Object(n.useState)(!1),b=Object(s.a)(w,2),x=b[0],y=b[1],O=Object(n.useState)(null),j=Object(s.a)(O,2),C=j[0],I=j[1],S=Object(n.useState)(!1),k=Object(s.a)(S,2),W=k[0],B=k[1],L=Object(n.useState)(null),N=Object(s.a)(L,2),M=N[0],H=N[1],z=Object(n.useState)(null),P=Object(s.a)(z,2),D=P[0],F=P[1],R=Object(n.useState)(null),U=Object(s.a)(R,2),T=U[0],q=U[1],A=Object(n.useState)({width:1e3,height:1e3}),J=Object(s.a)(A,2),V=J[0],Y=J[1];function $(){return($=Object(d.a)(r.a.mark((function t(){var a,n,l,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.load();case 2:e=t.sent,i("Model Loaded"),"font-weight: bold; font-size: 30px;color: yellow; text-shadow: 3px 3px 0 rgb(217,31,38) ;padding : 50px ",console.log("%c Hi You have found an easter egg \ud83e\udd5a, now find a way to report this to us!","font-weight: bold; font-size: 30px;color: yellow; text-shadow: 3px 3px 0 rgb(217,31,38) ;padding : 50px "),m||(a=document.getElementById("badge"),n=a.getContext("2d"),l=document.getElementById("frame"),o=document.getElementById("dumb-face"),n.drawImage(o,0,0,a.width,a.height),n.drawImage(l,0,0,a.width,a.height)),g(!0);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(){return(G=Object(d.a)(r.a.mark((function t(){var a,n,l,i,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(a=document.querySelector("#temp-image")).width&&0!==a.height){t.next=4;break}return u.b.error("Something is wrong",{position:"bottom-center",autoClose:3e3}),t.abrupt("return");case 4:return(a.naturalWidth<500||a.naturalHeight<500)&&(u.b.warn("Low resolution image, resizing badge to low dimensions"),Y({width:a.naturalWidth,height:a.naturalWidth})),t.next=7,e.estimateFaces(a,!1);case 7:(n=t.sent)[0]?(u.b.success("shinning like a star \u2b50"),l=n[0],i=parseFloat(l.topLeft[0])-50,o=parseFloat(l.topLeft[1])-50,F({x:i,y:o,aspect:1,width:300,height:300}),y(!0)):(u.b.warn("Can't detect your face \ud83d\ude1e"),F({x:0,y:0,aspect:1,width:200,height:200}),y(!0));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){$.apply(this,arguments)}();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:m?"done":"overlay"},l.a.createElement("span",null,l.a.createElement("h3",null,"Loading Model"),l.a.createElement("div",{className:"lds-ring"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)))),l.a.createElement(u.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{width:"200px",margin:"auto"}}),l.a.createElement("header",null,"DSC WOW Badge Maker"),l.a.createElement("div",{className:"main-container"},l.a.createElement("div",{className:"input-panel"},l.a.createElement("div",{className:"input"},l.a.createElement("label",null,"Profile Picture"),l.a.createElement("span",null,l.a.createElement("button",{className:"button",onClick:function(){B(!0),document.querySelector("input.profile-input").click()}},"Upload Image"),W&&l.a.createElement("div",{className:"lds-ring"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))),m&&l.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){H(URL.createObjectURL(e.target.files[0])),setTimeout((function(){!function(){G.apply(this,arguments)}()}),1e3)},className:"profile-input",hidden:!0}),l.a.createElement("h5",null,"An AI Powered Badge Maker to automatically suggest crop region depending on the face location. ",l.a.createElement("br",null)," ",l.a.createElement("br",null),"Powered by Tensorflow.js ",l.a.createElement("br",null)," ",l.a.createElement("br",null),"Build with \u2764\ufe0f by DSC WOW Team")),l.a.createElement("img",{src:E.a,className:"logo",alt:"DSC WOW Logo"})),l.a.createElement("div",{className:"preview-panel"},x&&l.a.createElement("div",null,l.a.createElement("div",{style:{maxWidth:"450px",width:"80vw"}},l.a.createElement(h.a,{onImageLoaded:q,src:M,crop:D,onChange:function(e){return F(e)}})),l.a.createElement("button",{onClick:function(){y(!1),B(!1);var e=document.createElement("canvas"),t=T.naturalWidth/T.width,a=T.naturalHeight/T.height;e.width=D.width,e.height=D.height,e.getContext("2d").drawImage(T,D.x*t,D.y*a,D.width*t,D.height*a,0,0,D.width,D.height),y(!1);var n=document.getElementById("badge"),l=n.getContext("2d"),i=document.getElementById("frame"),o=new Image;o.onload=function(){l.clearRect(0,0,e.width,e.height),l.drawImage(o,0,0,n.width,n.height),l.drawImage(i,0,0,n.width,n.height),I(n.toDataURL("image/jpeg"))},o.src=e.toDataURL("image/jpeg"),u.b.success("psst, you can download badge from here ",{position:"bottom-right",autoClose:3e3})},className:"button"},"Crop")),l.a.createElement("canvas",{id:"badge",width:V.width,height:V.height}),M&&l.a.createElement("img",{src:M,alt:"temp",id:"temp-image",style:{maxWidth:"450px",width:"80vw",opacity:0,position:"absolute",zIndex:"-1",PointerEvent:"none"}}),l.a.createElement("img",{src:p.a,id:"frame",alt:"",hidden:!0}),l.a.createElement("img",{src:f.a,id:"dumb-face",alt:"",hidden:!0}),C&&l.a.createElement("a",{download:"myBadge.jpg",href:C},l.a.createElement("div",{className:"download-fab"},l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",fill:"#fff"},l.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),l.a.createElement("path",{d:"M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z"})))))))};var y=function(){return l.a.createElement(x,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[290,1,2]]]);
//# sourceMappingURL=main.ec707e4c.chunk.js.map